# .env.example — Exemplo mínimo para execução interna (localhost)
# Copie este arquivo para `.env` e ajuste valores antes de rodar.

# Chave de criptografia do n8n (troque em produção)
N8N_ENCRYPTION_KEY=change_me_to_a_secure_key

# Postgres
POSTGRES_USER=n8n
POSTGRES_PASSWORD=n8n_pass
POSTGRES_DB=n8n
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Redis
QUEUE_BULL_REDIS_HOST=redis
QUEUE_BULL_REDIS_PORT=6379

# Acesso público/local
# Para execução interna sem TLS (ex.: dentro da mesma rede/localhost)
N8N_HOST=localhost
N8N_PROTOCOL=http
# WEBHOOK_URL pode ser construído no docker-compose usando:
# WEBHOOK_URL=${N8N_PROTOCOL}://${N8N_HOST}
WEBHOOK_URL=http://localhost:5678

# Runtime / n8n settings
NODE_ENV=production
EXECUTIONS_MODE=queue
OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS=true
N8N_RUNNERS_ENABLED=true
QUEUE_HEALTH_CHECK_ACTIVE=true

N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_GIT_NODE_DISABLE_BARE_REPOS=true

# Retenção de dados de execução (horas)
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168
